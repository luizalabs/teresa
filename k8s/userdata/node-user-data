#! /bin/bash
mkdir -p /var/cache/kubernetes-install
cd /var/cache/kubernetes-install
cat > kube_env.yaml << __EOF_KUBE_ENV_YAML
ENV_TIMESTAMP: '2016-05-25T19:33:50+0000'
INSTANCE_PREFIX: 'kubernetes'
NODE_INSTANCE_PREFIX: 'kubernetes-minion'
CLUSTER_IP_RANGE: '172.18.0.0/16'
SERVER_BINARY_TAR_URL: 'https://s3-sa-east-1.amazonaws.com/kubernetes-staging-3b575127cded388ccc52ff8ea32b6b88/devel/kubernetes-server-linux-amd64.tar.gz'
SERVER_BINARY_TAR_HASH: '86c63983a1a1da3f1ec76e1914964e8a42fba244'
SALT_TAR_URL: 'https://s3-sa-east-1.amazonaws.com/kubernetes-staging-3b575127cded388ccc52ff8ea32b6b88/devel/kubernetes-salt.tar.gz'
SALT_TAR_HASH: '246074805c38dad8774a027a97201cf2bb33b1d4'
SERVICE_CLUSTER_IP_RANGE: '172.16.0.0/16'
KUBERNETES_MASTER_NAME: 'kubernetes-master'
ALLOCATE_NODE_CIDRS: 'true'
ENABLE_CLUSTER_MONITORING: 'influxdb'
ENABLE_L7_LOADBALANCING: 'none'
ENABLE_CLUSTER_LOGGING: 'true'
ENABLE_CLUSTER_UI: 'true'
ENABLE_NODE_LOGGING: 'true'
LOGGING_DESTINATION: 'elasticsearch'
ELASTICSEARCH_LOGGING_REPLICAS: '1'
ENABLE_CLUSTER_DNS: 'true'
ENABLE_CLUSTER_REGISTRY: 'false'
CLUSTER_REGISTRY_DISK: ''
CLUSTER_REGISTRY_DISK_SIZE: ''
DNS_REPLICAS: '1'
DNS_SERVER_IP: '172.16.0.10'
DNS_DOMAIN: 'cluster.local'
KUBELET_TOKEN: 'tGEiMZRc3sNbQq9IztaXyCv1pYKmhbqB'
KUBE_PROXY_TOKEN: 'hWPrk5ruKoCH3IQqwFzCCPEvDNVlzRUn'
ADMISSION_CONTROL: 'NamespaceLifecycle,LimitRanger,SecurityContextDeny,ServiceAccount,ResourceQuota,PersistentVolumeLabel'
MASTER_IP_RANGE: '172.19.0.0/24'
RUNTIME_CONFIG: ''
CA_CERT: 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURWakNDQWo2Z0F3SUJBZ0lKQU12VGFPcXcyMU11TUEwR0NTcUdTSWIzRFFFQkN3VUFNQ0V4SHpBZEJnTlYKQkFNVUZqVXlMalkzTGpVMkxqVTNRREUwTmpReU1EUTNOemN3SGhjTk1UWXdOVEkxTVRrek1qVTRXaGNOTWpZdwpOVEl6TVRrek1qVTRXakFoTVI4d0hRWURWUVFERkJZMU1pNDJOeTQxTmk0MU4wQXhORFkwTWpBME56YzNNSUlCCklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFtNTg3K0hlbzl0d0xLaXhKM0ZjMDdOOUQKd2pFL3ZVMnEwS0NyUytPZi9QaldOem1sSFJuTGVHM1V4bGlZNTlKeFZYUGU5T1hQejQ3ZVNjZk8zRFlQbnNrRApsV3V0cDhCRUdaM0t1NDQ0bjFKUjMvRDloYkRDY1daRkkrNStMWjdQTGJLeWV2dXZlVXp1ZkVXak96NHhOdm5qCk40THpzQ0I5ZFc1WTdIbFhJNXdVbE9aMmEvWUwrekJPRE1hWFA3YjRKcStJS0l0VDk0U3JueVg5djhzNCtVRTAKY054dkJWMGd5Y0JDOWs5ci9nMTJVby9jUm14d1Y0L0ZpVkhVcGExelpHdFlRMHZiZURaOUZCWXA1VXhOK1Z1MQpOWkQ4MEw3RG5ZZkpGMi9tZ1JUYUtWZFBVc1dMQ1h0K0paUHd5VW9vOEFVMW8zUzlsd1BwTGVGcEJQbzN0UUlECkFRQUJvNEdRTUlHTk1CMEdBMVVkRGdRV0JCUkRKMCtBeUxtK243WTNiZVYwWXpiWXEwbS8xREJSQmdOVkhTTUUKU2pCSWdCUkRKMCtBeUxtK243WTNiZVYwWXpiWXEwbS8xS0VscENNd0lURWZNQjBHQTFVRUF4UVdOVEl1TmpjdQpOVFl1TlRkQU1UUTJOREl3TkRjM040SUpBTXZUYU9xdzIxTXVNQXdHQTFVZEV3UUZNQU1CQWY4d0N3WURWUjBQCkJBUURBZ0VHTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDVkpaeE1hbXFOY2Q2c3hRUi9XaDNmVUJLcEI4MXIKV2NZZ1dXaXdXM2oxdUtjZkJFVmIwTmpRbVJrTWIrK1BxYnR0RVFZcVBkYUZaOUFOT0VnaDVMaW9hbWdnK2RUTgpSZ01Dd1Z0V0VRRmo2aTVrUGt2SkQ2dVczMGpsNlVQSEppakJtTCtGRVNKUCt1OVk3MDlRYzRhbnNrU2NMa0VMCmh6QUg0cmZhVEpVV3A5YUR4Zk5rV3d1QTBPeC9MTWRGaVdWZ2RGUHhUeWl2d3hnL2lVdzB0ZUY0elZKWStGZ1AKUG9ZR1dMQm00SUZiVWNOUlpBVVVHaE1yTENXc1VIemFYYy9vNDlyZ3BzUGs0b2NSY2JjVjFBTGg4MVR3QnlDYwpnMjFWb0lZRzBiZHN5S0NMT0JhckNyWDlTeUxmTUZFaTZoajBpWlAwQ2R2MjdnOWNCR1FYZEYzLwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=='
KUBELET_CERT: 'Q2VydGlmaWNhdGU6CiAgICBEYXRhOgogICAgICAgIFZlcnNpb246IDMgKDB4MikKICAgICAgICBTZXJpYWwgTnVtYmVyOiAyICgweDIpCiAgICBTaWduYXR1cmUgQWxnb3JpdGhtOiBzaGEyNTZXaXRoUlNBRW5jcnlwdGlvbgogICAgICAgIElzc3VlcjogQ049NTIuNjcuNTYuNTdAMTQ2NDIwNDc3NwogICAgICAgIFZhbGlkaXR5CiAgICAgICAgICAgIE5vdCBCZWZvcmU6IE1heSAyNSAxOTozMjo1OSAyMDE2IEdNVAogICAgICAgICAgICBOb3QgQWZ0ZXIgOiBNYXkgMjMgMTk6MzI6NTkgMjAyNiBHTVQKICAgICAgICBTdWJqZWN0OiBDTj1rdWJlbGV0CiAgICAgICAgU3ViamVjdCBQdWJsaWMgS2V5IEluZm86CiAgICAgICAgICAgIFB1YmxpYyBLZXkgQWxnb3JpdGhtOiByc2FFbmNyeXB0aW9uCiAgICAgICAgICAgICAgICBQdWJsaWMtS2V5OiAoMjA0OCBiaXQpCiAgICAgICAgICAgICAgICBNb2R1bHVzOgogICAgICAgICAgICAgICAgICAgIDAwOmM1OjdiOmEyOmJhOjdmOjUwOmZmOjE5OjFlOjU3OjFmOjFkOmMxOmQ4OgogICAgICAgICAgICAgICAgICAgIDM4OmI4OjI2OjBiOjJhOjY5OmJlOjMxOjkyOmJlOjJiOjIxOmJlOjc5OjA2OgogICAgICAgICAgICAgICAgICAgIGIwOjc3Ojg5OjQ3OmMwOmU2OmJiOmE4OjIyOjcyOmY4OjM2OjYzOmI0OmE2OgogICAgICAgICAgICAgICAgICAgIDk3OjBjOmIxOmUwOjg0OjU5OjA1OmQzOjBhOjQ4OmQ5OmE5OmM2OmYwOjJmOgogICAgICAgICAgICAgICAgICAgIDFkOjcwOjNlOmUzOjU3OjJiOjc4OjkxOmU3Ojg1OjUxOjk0OjExOmI0OmQzOgogICAgICAgICAgICAgICAgICAgIDRiOjY5OjMzOmE0Ojc1OjgzOmQzOjIzOjhiOjE4Ojc2OjQ3OjkxOmMyOmUyOgogICAgICAgICAgICAgICAgICAgIGMyOmEyOmM4OjZkOjVkOmRiOjQzOjIxOmY3OjJkOmVhOjA5OjhkOmVhOjg5OgogICAgICAgICAgICAgICAgICAgIGE2OjVmOjRjOmZkOmUxOjlhOjg4OmRiOmI5OjVlOmYwOjdkOjg4OmIwOjlhOgogICAgICAgICAgICAgICAgICAgIDRlOmE2OjVhOjNkOmM3OjUzOjg3OmYyOjk4OjZiOjU3OjJjOjkyOmYzOmMzOgogICAgICAgICAgICAgICAgICAgIGM0OmNhOjMzOmNjOmExOjg1OmY5OjA1OjJjOjA5OjA5OjU0OmIzOjkyOmU0OgogICAgICAgICAgICAgICAgICAgIGQ5OjFmOjJjOmRkOjc5OjYyOjgyOjQ2OmVmOmNhOmJjOmU5OmU4Ojc0OmZlOgogICAgICAgICAgICAgICAgICAgIDRiOjk5OmZhOjNhOmFkOjcwOjYwOmJiOmY3OjYwOjg1OjJmOmExOmE0OjYwOgogICAgICAgICAgICAgICAgICAgIDE2OmJiOjljOjhkOjE0OjRmOmM4OjQwOjk1OmMxOmY2OjEwOmRkOmY4OjNmOgogICAgICAgICAgICAgICAgICAgIDNkOmRiOjhhOmNkOjU5OjM5OjA0OmMzOjQyOjVkOjNhOjA4OjljOjk0Ojc5OgogICAgICAgICAgICAgICAgICAgIGVjOmQ0OmM2OjQ3OmVmOmI3OjhkOmNjOjQwOmEwOjZlOjA2OjJlOjlkOjYzOgogICAgICAgICAgICAgICAgICAgIDIyOjVjOjE5OjlhOjA0OmY0OjRlOmFiOjQwOjRkOjEwOjBhOjQ3OjU2OmQ3OgogICAgICAgICAgICAgICAgICAgIDFhOjY3OjdkOjEyOmYyOjFiOmMzOjE3OjliOjg3Ojc2OjQzOmZhOjU1OmZkOgogICAgICAgICAgICAgICAgICAgIGY5OjAxCiAgICAgICAgICAgICAgICBFeHBvbmVudDogNjU1MzcgKDB4MTAwMDEpCiAgICAgICAgWDUwOXYzIGV4dGVuc2lvbnM6CiAgICAgICAgICAgIFg1MDl2MyBCYXNpYyBDb25zdHJhaW50czogCiAgICAgICAgICAgICAgICBDQTpGQUxTRQogICAgICAgICAgICBYNTA5djMgU3ViamVjdCBLZXkgSWRlbnRpZmllcjogCiAgICAgICAgICAgICAgICA0MDoxNzpDQjpBMzo1QjpDRDpEMToyODpFNDpGRTo2NDpDMzo5NTpDODpCNTo2RDo2RDpGRTpENzpFQgogICAgICAgICAgICBYNTA5djMgQXV0aG9yaXR5IEtleSBJZGVudGlmaWVyOiAKICAgICAgICAgICAgICAgIGtleWlkOjQzOjI3OjRGOjgwOkM4OkI5OkJFOjlGOkI2OjM3OjZEOkU1Ojc0OjYzOjM2OkQ4OkFCOjQ5OkJGOkQ0CiAgICAgICAgICAgICAgICBEaXJOYW1lOi9DTj01Mi42Ny41Ni41N0AxNDY0MjA0Nzc3CiAgICAgICAgICAgICAgICBzZXJpYWw6Q0I6RDM6Njg6RUE6QjA6REI6NTM6MkUKCiAgICAgICAgICAgIFg1MDl2MyBFeHRlbmRlZCBLZXkgVXNhZ2U6IAogICAgICAgICAgICAgICAgVExTIFdlYiBDbGllbnQgQXV0aGVudGljYXRpb24KICAgICAgICAgICAgWDUwOXYzIEtleSBVc2FnZTogCiAgICAgICAgICAgICAgICBEaWdpdGFsIFNpZ25hdHVyZQogICAgU2lnbmF0dXJlIEFsZ29yaXRobTogc2hhMjU2V2l0aFJTQUVuY3J5cHRpb24KICAgICAgICAgMWQ6ZjM6Mzc6ZjE6MTE6Zjg6ZTI6N2M6YzE6ODA6NDQ6MWM6YWY6MTM6ODc6N2U6NDU6NmY6CiAgICAgICAgIDNiOmVjOmM4OmI4Ojg3OmExOjExOjFkOmFhOjY4OjFhOjg3OmM5Ojg4OjQxOmYyOjEyOjdkOgogICAgICAgICAxNDpiYjpmMTplNzo2MzphMDoyYTozYjpmNzpmODoxNjowMjpjOTo0ZjphMDpmNDo5NDphZToKICAgICAgICAgNjk6ZDE6MjE6MWU6YzE6ZTQ6ZWM6NDI6Mzg6ZTM6MTY6MDk6ZGU6ZGU6YmY6OWU6NWE6MDU6CiAgICAgICAgIGMxOmIyOmU0OjZjOmNlOjM2OmEzOmY1OjcwOmY1OmY5OmRjOjJiOmRjOmMxOjM1OjRlOmM5OgogICAgICAgICA0YTpjYjo3NDo0Mjo4ZDoyMToxYTo4NzoyYToxNTo1NTowYTowZDozZjo2Mzo1OTo1ODo3YToKICAgICAgICAgNGM6YTI6ZDk6Yzg6OTA6MGE6YjE6ZmU6OTY6ODY6NzU6NjM6OTY6ZmE6NDY6NTg6YjI6NjI6CiAgICAgICAgIDJhOmMwOjI4OjFmOjAzOmRhOjdkOjA5OjgzOjQ2OmNjOmRkOmJjOjdlOjk0OjU4OmExOjUxOgogICAgICAgICA0ZjplMzo2NjpiNjo5Zjo3MjpmODowMDpjNDo2MjplODpmNzpkNDpjMDo5ZToyNzozZjoxNDoKICAgICAgICAgMTc6ZGE6ZmM6ZDU6YzY6MjY6NDg6N2Y6ODc6MTM6MTg6Njc6NTc6ZDA6MTU6NGY6NTM6ZjM6CiAgICAgICAgIDdhOmQ1OmZlOmFiOmY0OjAxOjlmOjRlOmUzOmUzOjE3OjZkOmQyOjc1OmU3OmMzOmEwOjdkOgogICAgICAgICAzODpkZjo1MTplMjo0MjpiNjozZjo0Njo4MjoyMTplYTowZjpjYzozMjpmZjo4ODo4NDo4NDoKICAgICAgICAgZGU6ODg6NzU6MGI6MDM6NTQ6ZGY6MDY6MTM6MTk6YmI6NTU6OGQ6MTU6NGE6MzI6ZDQ6ZjA6CiAgICAgICAgIGVhOjc1OjQ3Ojk5Ojk2OmM3OmVlOmE3OmRkOmRkOjY0OmE3OmZmOjYxOjJlOjRhOjVlOmNkOgogICAgICAgICBiMDphMDpjMjpkOAotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRFVUQ0NBam1nQXdJQkFnSUJBakFOQmdrcWhraUc5dzBCQVFzRkFEQWhNUjh3SFFZRFZRUURGQlkxTWk0MgpOeTQxTmk0MU4wQXhORFkwTWpBME56YzNNQjRYRFRFMk1EVXlOVEU1TXpJMU9Wb1hEVEkyTURVeU16RTVNekkxCk9Wb3dFakVRTUE0R0ExVUVBeE1IYTNWaVpXeGxkRENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0MKQVFvQ2dnRUJBTVY3b3JwL1VQOFpIbGNmSGNIWU9MZ21DeXBwdmpHU3Zpc2h2bmtHc0hlSlI4RG11NmdpY3ZnMgpZN1NtbHd5eDRJUlpCZE1LU05tcHh2QXZIWEErNDFjcmVKSG5oVkdVRWJUVFMya3pwSFdEMHlPTEdIWkhrY0xpCndxTEliVjNiUXlIM0xlb0pqZXFKcGw5TS9lR2FpTnU1WHZCOWlMQ2FUcVphUGNkVGgvS1lhMWNza3ZQRHhNb3oKektHRitRVXNDUWxVczVMazJSOHMzWGxpZ2tidnlyenA2SFQrUzVuNk9xMXdZTHYzWUlVdm9hUmdGcnVjalJSUAp5RUNWd2ZZUTNmZy9QZHVLelZrNUJNTkNYVG9JbkpSNTdOVEdSKyszamN4QW9HNEdMcDFqSWx3Wm1nVDBUcXRBClRSQUtSMWJYR21kOUV2SWJ3eGViaDNaRCtsWDkrUUVDQXdFQUFhT0JvakNCbnpBSkJnTlZIUk1FQWpBQU1CMEcKQTFVZERnUVdCQlJBRjh1alc4M1JLT1QrWk1PVnlMVnRiZjdYNnpCUkJnTlZIU01FU2pCSWdCUkRKMCtBeUxtKwpuN1kzYmVWMFl6YllxMG0vMUtFbHBDTXdJVEVmTUIwR0ExVUVBeFFXTlRJdU5qY3VOVFl1TlRkQU1UUTJOREl3Ck5EYzNONElKQU12VGFPcXcyMU11TUJNR0ExVWRKUVFNTUFvR0NDc0dBUVVGQndNQ01Bc0dBMVVkRHdRRUF3SUgKZ0RBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQUhmTTM4Ukg0NG56QmdFUWNyeE9IZmtWdk8rekl1SWVoRVIycQphQnFIeVloQjhoSjlGTHZ4NTJPZ0tqdjMrQllDeVUrZzlKU3VhZEVoSHNIazdFSTQ0eFlKM3Q2L25sb0Z3YkxrCmJNNDJvL1Z3OWZuY0s5ekJOVTdKU3N0MFFvMGhHb2NxRlZVS0RUOWpXVmg2VEtMWnlKQUtzZjZXaG5Wamx2cEcKV0xKaUtzQW9Id1BhZlFtRFJzemR2SDZVV0tGUlQrTm10cDl5K0FERVl1ajMxTUNlSno4VUY5cjgxY1ltU0grSApFeGhuVjlBVlQxUHpldFgrcS9RQm4wN2o0eGR0MG5Ybnc2QjlPTjlSNGtLMlAwYUNJZW9QekRML2lJU0Uzb2gxCkN3TlUzd1lUR2J0VmpSVktNdFR3Nm5WSG1aYkg3cWZkM1dTbi8yRXVTbDdOc0tEQzJBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo='
KUBELET_KEY: 'LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRREZlNks2ZjFEL0dSNVgKSHgzQjJEaTRKZ3NxYWI0eGtyNHJJYjU1QnJCM2lVZkE1cnVvSW5MNE5tTzBwcGNNc2VDRVdRWFRDa2pacWNidwpMeDF3UHVOWEszaVI1NFZSbEJHMDAwdHBNNlIxZzlNaml4aDJSNUhDNHNLaXlHMWQyME1oOXkzcUNZM3FpYVpmClRQM2htb2pidVY3d2ZZaXdtazZtV2ozSFU0ZnltR3RYTEpMenc4VEtNOHloaGZrRkxBa0pWTE9TNU5rZkxOMTUKWW9KRzc4cTg2ZWgwL2t1WitqcXRjR0M3OTJDRkw2R2tZQmE3bkkwVVQ4aEFsY0gyRU4zNFB6M2JpczFaT1FURApRbDA2Q0p5VWVlelV4a2Z2dDQzTVFLQnVCaTZkWXlKY0dab0U5RTZyUUUwUUNrZFcxeHBuZlJMeUc4TVhtNGQyClEvcFYvZmtCQWdNQkFBRUNnZ0VCQUxTdkRCSktqcGI0S25SWHVlZ3pwcUdGM1UxdTlsOXcvYUdFL0RyTFRnWHcKaXNBSjI4UlgwSTBkWmxoUTIzNzMrSTNlelo5cmwzL2ZBRytkQy9nNDhkUTlwOUVHM1Vub2lkTENTQXIyL3crdQpEeTVFQTV1a204Nk5ucnRGV2hzM2s5S3R6MHFFZDE0Umx6RTJ4a3IyRXlYR0V3RkNPaUFxN3E3eGZmaXppbjBBCkxnWEg0SVJmL0d5UjB4alJ6aXZxbUJYck4xK3RnWHVScDVzRjB2bjBTdE1mZmxBdXRxM1AzOTVCK29CQW10TTAKOGpva1BsL25LVG9xeDR3cCt1ZCtRUW1mOE1vT3J4aVZTakQzWk81VFRXN0VUMm5kQVV5WlNCVXZyWnpzbXI0aQpNazBJaFBTOWppMXpSS25IMTBNWVJ3MlFvT3hSUnJGL3pQcUUvcXpldllFQ2dZRUErVGdaVFU3WG1FeEgwSndjCnpKSENSU0dhaVRkdHZUdG56SGJ5STZOOWhEYnIvdmcvdWlIVzdHQ0M5dGFkdlNZa2xUZFdoYTZtNklVRFR6V0UKMENSTjVyYVd4V2pseUY0a1pGbE5jM3lYYnI2ZXhlYVNzV2JvUEJDaTdGL2x2Zk5WZjRybSt3eE9oRzBnZUNEUAoyeHJ6Wk1OTXVhUkpTSjNJcXJPUUtTcEJVWGtDZ1lFQXl0c3M5cjdFWlowYXJ5dHljM1hQSzl5M0dETTZHbXpOCm5nUHh0dXZrWnFZTnIzNVlaZ1dkTEJGd1N0QmJjWnU0YmhxL1hOeDRVc3V2UnB3Qk9wQXJxbVpZU2pwR0tvdTcKMW1VTWRwMEUvb1djTFpjSEdLSGl1WlE4Z3hEYnNqUlo2MVRhWStVWGVydng3NENvYkVYTDRKVlhZc2xYdnl6ZQoxT1VmUjlObHlja0NnWUFjTldkWHdzYlFiRUhzc043cG9NMzJlVGsrc3RGdkM5eFIzbHpGLytsakg3eFNuZExJCnhLL0pEWnVGU1FHTnVWV0d0ajdLM3R2eGtheXdPSVNSOHFvR3BVQW5sQm4rTmZtMGlnOGtOVVFHdXZqSnViRjgKOXdMdVdZdTNhWnRkaHI5MHNrbzJ2RXZlM1dOQmRhVlJUWm1qSENBQkcwRllRTlBIem85UXVZR3ZNUUtCZ1FDNgpiRm9TR0piYzIxaGVpd3NQV01FZmlpTXB0a283WnFwQUFWZnR4ek9Mc2liNWxKOGdneUJDRTNTakRJQTlFK0tXCkxUYVgzSFVuZ2RCK2ozZ0JuZVRESUhNYkpCcS9sdEwwNE1CbmNUM1p1bWdnN1o2ejRISkFJaDdLUkgvaWNZSUIKWjJXY1VEa1hyZ2xWRldPeXZTSDBMc3EwR2x6dGNBc0lrOWYvWmlNeElRS0JnUURhWTc1MlI0enFLd3lJNmR2YwpkT3pBN1hXSkUvUEk1R3lCVEhudmxPNWF5VnVLWVRkak1zWHJZYzlrZkIwRktQTUtHWVFKUDg3VElSWnRoVWsyCjhwQTdPUWZQV0dzSVJ6dm1TYUc5L29SUG0wRGZqWnR6NVZnQlY2aERsVFFiNEJ4VW9QbmVtc3h2TGxEUG40OFAKUUZ3QThzQjBYeC9UN3JYV2pHbkVDVGk3Z0E9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=='
NETWORK_PROVIDER: 'none'
HAIRPIN_MODE: ''
OPENCONTRAIL_TAG: 'R2.20'
OPENCONTRAIL_KUBERNETES_TAG: 'master'
OPENCONTRAIL_PUBLIC_SUBNET: '10.1.0.0/16'
E2E_STORAGE_TEST_ENVIRONMENT: 'false'
KUBE_IMAGE_TAG: ''
KUBE_DOCKER_REGISTRY: ''
KUBE_ADDON_REGISTRY: ''
MULTIZONE: ''
NON_MASQUERADE_CIDR: '172.16.0.0/14'
KUBERNETES_MASTER: 'false'
ZONE: 'sa-east-1a'
EXTRA_DOCKER_OPTS: ''
AUTO_UPGRADE: 'true'
DOCKER_STORAGE: 'aufs'
API_SERVERS: '172.20.0.9'
__EOF_KUBE_ENV_YAML

wget -O bootstrap https://s3-sa-east-1.amazonaws.com/kubernetes-staging-3b575127cded388ccc52ff8ea32b6b88/devel/bootstrap-script
chmod +x bootstrap
mkdir -p /etc/kubernetes/manifests
mv kube_env.yaml /etc/kubernetes
mv bootstrap /etc/kubernetes/
wget -O /etc/kubernetes/manifests/kube-registry-proxy.yaml https://s3-sa-east-1.amazonaws.com/kubernetes-staging-3b575127cded388ccc52ff8ea32b6b88/devel/kube-registry-proxy.yaml
wget -O /tmp/kube-luizalabs-custom.sh https://s3-sa-east-1.amazonaws.com/kubernetes-staging-3b575127cded388ccc52ff8ea32b6b88/devel/kube-luizalabs-custom.sh
chmod +x /tmp/kube-luizalabs-custom.sh
/tmp/kube-luizalabs-custom.sh

cat > /etc/rc.local << EOF_RC_LOCAL
#!/bin/sh -e
/etc/kubernetes/bootstrap
exit 0
EOF_RC_LOCAL
/etc/kubernetes/bootstrap
